@model Comment

<style>
    .comment-component {
        border-radius: 0.5rem;
        padding: 1rem;
    }
    .comment-component:hover, .comment-component:focus {
        background-color: #e9e9e9;
    }
</style>

<div class="media mb-4" id="comment-@Model.Id">
    <div class="comment-component">
        <img class="d-flex mr-3 rounded-circle user-avatar"
             src="https://eu.ui-avatars.com/api/?name=@(Model.Name.Replace(" ", "+"))"
             alt="@Model.Name">
        <div class="media-body">
            <h5 class="mt-0">@Model.Name <small><em>@(Model.Date.HasValue? Model.Date.Value.ToString("MMMM d, yyyy") : "Posted after the Big Bang")</em></small></h5>
            @Model.Message

            @if (!string.IsNullOrEmpty(Model.AttachmentName))
            {
                <div class="mt-3">
                    <a href="@Model.AttachmentPath" class="btn btn-sm btn-outline-dark" download="@Model.AttachmentName">
                        Download Attachment (@Model.AttachmentName)
                    </a>
                </div>
            }
        </div>
        <button class="btn btn-sm btn-link pl-0 reply-btn mt-2" data-comment-id="@Model.Id" data-comment-name="@Model.Name">
            Reply to this comment
        </button>
    </div>
   
    <div class="replies-list ms-5" id="replies-@Model.Id">
        @if (Model.Replies is not null && Model.Replies.Any())
        {
            <div class="reply-wrapper mt-1">
            @foreach (Comment reply in Model.Replies)
            {
                
                <partial name="_Comment" model="reply"></partial>
            }
            </div>
        }
    </div>
</div>